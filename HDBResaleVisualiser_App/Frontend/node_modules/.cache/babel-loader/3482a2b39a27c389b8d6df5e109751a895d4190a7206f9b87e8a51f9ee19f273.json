{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{useNavigate,useLocation}from\"react-router-dom\";import Navbar from\"../homepage/Navbar\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const districts=[{name:\"Jurong East\",lat:1.3331,lng:103.7420},{name:\"Boon Lay\",lat:1.3396,lng:103.7073},{name:\"Bukit Panjang\",lat:1.3770,lng:103.7621},{name:\"Woodlands\",lat:1.4360,lng:103.7860},{name:\"Yishun\",lat:1.4295,lng:103.8355},{name:\"Bishan\",lat:1.3508,lng:103.8494},{name:\"Orchard\",lat:1.3046,lng:103.8320},{name:\"Serangoon\",lat:1.3496,lng:103.8732},{name:\"Paya Lebar\",lat:1.3182,lng:103.8931},{name:\"Tampines\",lat:1.3530,lng:103.9444},{name:\"Bedok\",lat:1.3244,lng:103.9301},{name:\"Pasir Ris\",lat:1.3731,lng:103.9496},{name:\"Chinatown\",lat:1.2842,lng:103.8443},{name:\"HarbourFront\",lat:1.2653,lng:103.8223},{name:\"Caldecott\",lat:1.3392,lng:103.8392}];const roomTypes=[\"Community Care Apartment\",\"2-room\",\"2-room flexi\",\"Short-lease 2-room Flexi\",\"3-room\",\"4-room\",\"5-room\",\"3-Gen\"];const MapComponent=()=>{const mapRef=useRef(null);const navigate=useNavigate();const location=useLocation();const searchParams=new URLSearchParams(location.search);const mode=searchParams.get(\"mode\");// selectedDistricts → Stores an array of selected districts (used in multi-district mode).\n// setSelectedDistricts → A function that updates selectedDistricts, causing a re-render.\nconst[selectedDistricts,setSelectedDistricts]=useState([]);const[selectedDistrict,setSelectedDistrict]=useState(null);const[selectedRoomTypes,setSelectedRoomTypes]=useState([]);const[selectedRoomTypeForMulti,setSelectedRoomTypeForMulti]=useState(\"\");const markersRef=useRef([]);/* Creates a reference to an empty array\r\n                                    useState is not being used because it will cause re-renders,\r\n                                    slowing down the performance*/useEffect(()=>{const script=document.createElement(\"script\");script.src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyCI0zhVegbDZWWzRj4GJMNLWx4Lhzr3urk\";script.async=true;script.defer=true;script.onload=()=>initializeMap();document.body.appendChild(script);},[]);function initializeMap(){const map=new window.google.maps.Map(mapRef.current,{// window.google.maps.Map is in-built function\ncenter:{lat:1.3521,lng:103.8198},zoom:11});districts.forEach(district=>{const marker=new window.google.maps.Marker({position:{lat:district.lat,lng:district.lng},map,title:district.name,icon:{url:\"http://maps.google.com/mapfiles/ms/icons/red-dot.png\"}});markersRef.current.push(marker);// markersRef.current is a React ref and .push(marker) is adding newly created marker in an array\nmarker.addListener(\"click\",()=>handleMarkerClick(marker,district));// API method to attach an event listerner to a marker\n});// when you clicked on the marker, the listener triggers handleMarkerClick function\n}function handleMarkerClick(marker,district){if(mode===\"multi-district\"){setSelectedDistricts(prevState=>{// prevState is declared implicitly as function\nif(prevState.includes(district.name)){// equivalent to if (selectedDistricts.includes(district.name)), prevState is a ref to selectedDistricts\nsetMarkerRed(marker);// If district is already selected, remove it\nreturn prevState.filter(d=>d!==district.name);// removing the district name when re-selects\n}// Allow selection only if less than 5\nif(prevState.length<5){setMarkerBlue(marker);return[...prevState,district.name];// Add new district in the new State\n}else{alert(\"You can select up to 5 districts only.\");return prevState;// No change\n}});}else if(mode===\"single-district\"){setSelectedDistrict(prevSelected=>{if(prevSelected===district.name){setMarkerRed(marker);setSelectedRoomTypes([]);return null;// Deselect if clicked again\n}if(prevSelected){alert(\"You can only select one district at a time.\");return prevSelected;// No change\n}setMarkerBlue(marker);return district.name;// Set the newly selected district\n});}}function handleRoomTypeSelectionForMulti(event){setSelectedRoomTypeForMulti(event.target.value);}function proceedToComparison(){if(selectedDistricts.length<2){alert(\"Please select at least 2 districts before proceeding.\");return;}if(!selectedRoomTypeForMulti){alert(\"Please select a room type to compare.\");return;}alert(`Proceeding with comparison for ${selectedRoomTypeForMulti} across: ${selectedDistricts.join(\", \")}`);}function setMarkerRed(marker){marker.setIcon(\"http://maps.google.com/mapfiles/ms/icons/red-dot.png\");};function setMarkerBlue(marker){marker.setIcon(\"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\");};function handleRoomTypeSelection(room){const updatedSelection=selectedRoomTypes.includes(room)?selectedRoomTypes.filter(r=>r!==room):[...selectedRoomTypes,room];if(updatedSelection.length>3){alert(\"You can select up to 3 room types only.\");return;}setSelectedRoomTypes(updatedSelection);}function generatePriceTrend(){if(selectedRoomTypes.length<1||selectedRoomTypes.length>3){alert(\"Please select between 1 to 3 room types before proceeding.\");return;}alert(`Generating price trend for ${selectedDistrict}: ${selectedRoomTypes.join(\", \")}`);}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-white text-red-900\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center mt-6\",children:\"HDB Price Comparison\"}),/*#__PURE__*/_jsx(\"div\",{ref:mapRef,style:{width:\"90%\",height:\"600px\",margin:\"auto\",borderRadius:\"10px\",boxShadow:\"0px 0px 10px rgba(0, 0, 0, 0.1)\"}}),mode===\"single-district\"&&selectedDistrict&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center mt-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-bold\",children:[\"Select Room Types for \",selectedDistrict]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3\",children:roomTypes.map(room=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedRoomTypes.includes(room),onChange:()=>handleRoomTypeSelection(room),className:\"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-red-900\",children:room})]},room))}),selectedRoomTypes.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:generatePriceTrend,className:\"mt-4 px-6 py-3 bg-green-600 text-white font-bold rounded-lg shadow-md\",children:\"\\uD83D\\uDCC8 Generate Price Trend\"})]}),mode===\"multi-district\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-semibold\",children:[\"Selected Districts: \",selectedDistricts.join(\", \")]}),selectedDistricts.length>=2&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-lg font-semibold mr-2\",children:\"Select Room Type:\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedRoomTypeForMulti,onChange:handleRoomTypeSelectionForMulti,className:\"border px-3 py-2 rounded-lg\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Room Type --\"}),roomTypes.map(room=>/*#__PURE__*/_jsx(\"option\",{value:room,children:room},room))]})]}),selectedRoomTypeForMulti&&/*#__PURE__*/_jsx(\"button\",{onClick:proceedToComparison,className:\"mt-4 px-6 py-3 bg-blue-600 text-white font-bold rounded-lg shadow-md\",children:\"\\u2705 Proceed to Compare Prices\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/\"),className:\"mt-6 px-6 py-3 bg-red-600 text-white font-bold rounded-lg shadow-md\",children:\"\\u2B05 Back to Homepage\"})]});};export default MapComponent;","map":{"version":3,"names":["React","useEffect","useRef","useState","useNavigate","useLocation","Navbar","jsx","_jsx","jsxs","_jsxs","districts","name","lat","lng","roomTypes","MapComponent","mapRef","navigate","location","searchParams","URLSearchParams","search","mode","get","selectedDistricts","setSelectedDistricts","selectedDistrict","setSelectedDistrict","selectedRoomTypes","setSelectedRoomTypes","selectedRoomTypeForMulti","setSelectedRoomTypeForMulti","markersRef","script","document","createElement","src","async","defer","onload","initializeMap","body","appendChild","map","window","google","maps","Map","current","center","zoom","forEach","district","marker","Marker","position","title","icon","url","push","addListener","handleMarkerClick","prevState","includes","setMarkerRed","filter","d","length","setMarkerBlue","alert","prevSelected","handleRoomTypeSelectionForMulti","event","target","value","proceedToComparison","join","setIcon","handleRoomTypeSelection","room","updatedSelection","r","generatePriceTrend","className","children","ref","style","width","height","margin","borderRadius","boxShadow","type","checked","onChange","onClick"],"sources":["D:/Sc2006/SC2006_HDBResaleVisualiser (2)/SC2006_HDBResaleVisualiser/HDBResaleVisualiser_App/sc2006_project/src/utils/MapComponent.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport Navbar from \"../homepage/Navbar\";\r\n\r\nconst districts = [\r\n  { name: \"Jurong East\", lat: 1.3331, lng: 103.7420 },\r\n  { name: \"Boon Lay\", lat: 1.3396, lng: 103.7073 },\r\n  { name: \"Bukit Panjang\", lat: 1.3770, lng: 103.7621 },\r\n  { name: \"Woodlands\", lat: 1.4360, lng: 103.7860 },\r\n  { name: \"Yishun\", lat: 1.4295, lng: 103.8355 },\r\n  { name: \"Bishan\", lat: 1.3508, lng: 103.8494 },\r\n  { name: \"Orchard\", lat: 1.3046, lng: 103.8320 },\r\n  { name: \"Serangoon\", lat: 1.3496, lng: 103.8732 },\r\n  { name: \"Paya Lebar\", lat: 1.3182, lng: 103.8931 },\r\n  { name: \"Tampines\", lat: 1.3530, lng: 103.9444 },\r\n  { name: \"Bedok\", lat: 1.3244, lng: 103.9301 },\r\n  { name: \"Pasir Ris\", lat: 1.3731, lng: 103.9496 },\r\n  { name: \"Chinatown\", lat: 1.2842, lng: 103.8443 },\r\n  { name: \"HarbourFront\", lat: 1.2653, lng: 103.8223 },\r\n  { name: \"Caldecott\", lat: 1.3392, lng: 103.8392 }\r\n];\r\n\r\nconst roomTypes = [\r\n  \"Community Care Apartment\",\r\n  \"2-room\",\r\n  \"2-room flexi\",\r\n  \"Short-lease 2-room Flexi\",\r\n  \"3-room\",\r\n  \"4-room\",\r\n  \"5-room\",\r\n  \"3-Gen\"\r\n];\r\n\r\nconst MapComponent = () => {\r\n  const mapRef = useRef(null);\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const searchParams = new URLSearchParams(location.search);\r\n  const mode = searchParams.get(\"mode\");\r\n\r\n        // selectedDistricts → Stores an array of selected districts (used in multi-district mode).\r\n        // setSelectedDistricts → A function that updates selectedDistricts, causing a re-render.\r\n  const [selectedDistricts, setSelectedDistricts] = useState([]); \r\n  const [selectedDistrict, setSelectedDistrict] = useState(null);\r\n  const [selectedRoomTypes, setSelectedRoomTypes] = useState([]);\r\n  const [selectedRoomTypeForMulti, setSelectedRoomTypeForMulti] = useState(\"\");\r\n  const markersRef = useRef([]); /* Creates a reference to an empty array\r\n                                    useState is not being used because it will cause re-renders,\r\n                                    slowing down the performance*/\r\n\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement(\"script\");\r\n    script.src = \"https://maps.googleapis.com/maps/api/js?key=AIzaSyCI0zhVegbDZWWzRj4GJMNLWx4Lhzr3urk\";\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.onload = () => initializeMap();\r\n    document.body.appendChild(script);\r\n  }, []);\r\n\r\n  function initializeMap() {\r\n    const map = new window.google.maps.Map(mapRef.current, { // window.google.maps.Map is in-built function\r\n      center: { lat: 1.3521, lng: 103.8198 },\r\n      zoom: 11\r\n    });\r\n\r\n    districts.forEach(district => {\r\n      const marker = new window.google.maps.Marker({ \r\n        position: { lat: district.lat, lng: district.lng },\r\n        map,\r\n        title: district.name,\r\n        icon: { url: \"http://maps.google.com/mapfiles/ms/icons/red-dot.png\" }\r\n      });\r\n\r\n      markersRef.current.push(marker); // markersRef.current is a React ref and .push(marker) is adding newly created marker in an array\r\n      marker.addListener(\"click\", () => handleMarkerClick(marker, district)); // API method to attach an event listerner to a marker\r\n    });                                                                       // when you clicked on the marker, the listener triggers handleMarkerClick function\r\n  }\r\n\r\n  function handleMarkerClick(marker, district) {\r\n    if (mode === \"multi-district\") {\r\n      setSelectedDistricts(prevState => { // prevState is declared implicitly as function\r\n        if (prevState.includes(district.name)) {  // equivalent to if (selectedDistricts.includes(district.name)), prevState is a ref to selectedDistricts\r\n          setMarkerRed(marker); // If district is already selected, remove it\r\n          return prevState.filter(d => d !== district.name); // removing the district name when re-selects\r\n        }\r\n  \r\n        // Allow selection only if less than 5\r\n        if (prevState.length < 5) {\r\n          setMarkerBlue(marker);\r\n          return [...prevState, district.name]; // Add new district in the new State\r\n        } else {\r\n          alert(\"You can select up to 5 districts only.\");\r\n          return prevState; // No change\r\n        }\r\n      });\r\n\r\n    } else if (mode === \"single-district\") {\r\n      setSelectedDistrict(prevSelected => {\r\n        if (prevSelected === district.name) {\r\n          setMarkerRed(marker);\r\n          setSelectedRoomTypes([]);\r\n          return null;  // Deselect if clicked again\r\n        }\r\n    \r\n        if (prevSelected) {\r\n          alert(\"You can only select one district at a time.\");\r\n          return prevSelected; // No change\r\n        }\r\n    \r\n        setMarkerBlue(marker);\r\n        return district.name;  // Set the newly selected district\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  function handleRoomTypeSelectionForMulti(event) {\r\n    setSelectedRoomTypeForMulti(event.target.value);\r\n  }  \r\n\r\n  function proceedToComparison() {\r\n    if (selectedDistricts.length < 2) {\r\n      alert(\"Please select at least 2 districts before proceeding.\");\r\n      return;\r\n    }\r\n    if (!selectedRoomTypeForMulti) {\r\n      alert(\"Please select a room type to compare.\");\r\n      return;\r\n    }\r\n    alert(`Proceeding with comparison for ${selectedRoomTypeForMulti} across: ${selectedDistricts.join(\", \")}`);\r\n  }\r\n  \r\n  function setMarkerRed(marker) {\r\n    marker.setIcon(\"http://maps.google.com/mapfiles/ms/icons/red-dot.png\");\r\n  };\r\n\r\n  function setMarkerBlue(marker) {\r\n    marker.setIcon(\"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\");\r\n  };\r\n\r\n  function handleRoomTypeSelection(room) {\r\n    const updatedSelection = selectedRoomTypes.includes(room)\r\n      ? selectedRoomTypes.filter(r => r !== room)\r\n      : [...selectedRoomTypes, room];\r\n\r\n    if (updatedSelection.length > 3) {\r\n      alert(\"You can select up to 3 room types only.\");\r\n      return;\r\n    }\r\n\r\n    setSelectedRoomTypes(updatedSelection);\r\n  }\r\n\r\n  function generatePriceTrend() {\r\n    if (selectedRoomTypes.length < 1 || selectedRoomTypes.length > 3) {\r\n      alert(\"Please select between 1 to 3 room types before proceeding.\");\r\n      return;\r\n    }\r\n    alert(`Generating price trend for ${selectedDistrict}: ${selectedRoomTypes.join(\", \")}`);\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-white text-red-900\">\r\n      <Navbar />\r\n      <h1 className=\"text-3xl font-bold text-center mt-6\">HDB Price Comparison</h1>\r\n  \r\n      <div ref={mapRef} style={{ width: \"90%\", height: \"600px\", margin: \"auto\", borderRadius: \"10px\", boxShadow: \"0px 0px 10px rgba(0, 0, 0, 0.1)\" }} />\r\n  \r\n      {/* 🔹 SINGLE DISTRICT MODE */}\r\n      {mode === \"single-district\" && selectedDistrict && (\r\n        <div className=\"flex flex-col items-center mt-6\">\r\n          <h2 className=\"text-lg font-bold\">Select Room Types for {selectedDistrict}</h2>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 mt-3\">\r\n            {roomTypes.map(room => (\r\n              <label key={room} className=\"flex items-center space-x-2\">\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={selectedRoomTypes.includes(room)}\r\n                  onChange={() => handleRoomTypeSelection(room)}\r\n                  className=\"w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500\"\r\n                />\r\n                <span className=\"text-red-900\">{room}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n  \r\n          {selectedRoomTypes.length > 0 && (\r\n            <button onClick={generatePriceTrend} className=\"mt-4 px-6 py-3 bg-green-600 text-white font-bold rounded-lg shadow-md\">\r\n              📈 Generate Price Trend\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n  \r\n      {/* 🔹 MULTI-DISTRICT MODE */}\r\n      {mode === \"multi-district\" && (\r\n        <div className=\"text-center mt-6\">\r\n          <h2 className=\"text-lg font-semibold\">Selected Districts: {selectedDistricts.join(\", \")}</h2>\r\n  \r\n          {selectedDistricts.length >= 2 && (\r\n            <div className=\"mt-4\">\r\n              <label className=\"text-lg font-semibold mr-2\">Select Room Type:</label>\r\n              <select \r\n                value={selectedRoomTypeForMulti} \r\n                onChange={handleRoomTypeSelectionForMulti} \r\n                className=\"border px-3 py-2 rounded-lg\"\r\n              >\r\n                <option value=\"\">-- Select Room Type --</option>\r\n                {roomTypes.map(room => (\r\n                  <option key={room} value={room}>{room}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n  \r\n          {selectedRoomTypeForMulti && (\r\n            <button onClick={proceedToComparison} className=\"mt-4 px-6 py-3 bg-blue-600 text-white font-bold rounded-lg shadow-md\">\r\n              ✅ Proceed to Compare Prices\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n  \r\n      <button onClick={() => navigate(\"/\")} className=\"mt-6 px-6 py-3 bg-red-600 text-white font-bold rounded-lg shadow-md\">\r\n        ⬅ Back to Homepage\r\n      </button>\r\n    </div>\r\n  );  \r\n};\r\n\r\nexport default MapComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}