{"ast":null,"code":"var _jsxFileName = \"/Users/chaewonkim/Downloads/SC2006_HDBResaleVisualiser/HDBResaleVisualiser_App/sc2006_project/src/homepage/HomePage.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport Navbar from \"./Navbar\";\nimport LoginModal from \"../login/LoginModal\";\nimport SearchSection from \"./SearchSection\";\nimport FeaturesSection from \"./FeaturesSection\";\nimport RecentComparisons from \"./RecentComparisons\";\nimport { useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../utils/axiosInstance\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function HomePage() {\n  _s();\n  const [search, setSearch] = useState(\"\");\n  const [isLoginOpen, setIsLoginOpen] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem(\"access_token\");\n    if (token) {\n      fetchUserProfile();\n    }\n  }, []);\n  const fetchUserProfile = async () => {\n    try {\n      const response = await axiosInstance.get(\"user-profile/\");\n      const loggedInUsername = response.data.username;\n      setUsername(loggedInUsername);\n      localStorage.setItem(\"username\", loggedInUsername);\n      setIsLoggedIn(true);\n    } catch (error) {\n      setIsLoggedIn(false);\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"access_token\");\n    localStorage.removeItem(\"refresh_token\");\n    localStorage.removeItem(\"username\");\n    setIsLoggedIn(false);\n    setUsername(\"\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-white text-red-900\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      isLoggedIn: isLoggedIn,\n      username: username,\n      handleLogout: handleLogout,\n      handleLoginOpen: () => setIsLoginOpen(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LoginModal, {\n      isLoginOpen: isLoginOpen,\n      setIsLoginOpen: setIsLoginOpen,\n      setIsLoggedIn: setIsLoggedIn,\n      setUsername: setUsername\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto px-8\",\n      children: [/*#__PURE__*/_jsxDEV(SearchSection, {\n        search: search,\n        setSearch: setSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FeaturesSection, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(RecentComparisons, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n_s(HomePage, \"HyAiRpI4AcRvyzKtZivqSil3lfM=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["useState","useEffect","Navbar","LoginModal","SearchSection","FeaturesSection","RecentComparisons","useNavigate","axiosInstance","jsxDEV","_jsxDEV","HomePage","_s","search","setSearch","isLoginOpen","setIsLoginOpen","isLoggedIn","setIsLoggedIn","username","setUsername","navigate","token","localStorage","getItem","fetchUserProfile","response","get","loggedInUsername","data","setItem","error","handleLogout","removeItem","className","children","handleLoginOpen","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/chaewonkim/Downloads/SC2006_HDBResaleVisualiser/HDBResaleVisualiser_App/sc2006_project/src/homepage/HomePage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport Navbar from \"./Navbar\";\nimport LoginModal from \"../login/LoginModal\";\nimport SearchSection from \"./SearchSection\";\nimport FeaturesSection from \"./FeaturesSection\";\nimport RecentComparisons from \"./RecentComparisons\";\nimport { useNavigate } from \"react-router-dom\";\nimport axiosInstance from \"../utils/axiosInstance\";\n\nexport default function HomePage() {\n    const [search, setSearch] = useState(\"\");\n    const [isLoginOpen, setIsLoginOpen] = useState(false);\n    const [isLoggedIn, setIsLoggedIn] = useState(false);\n    const [username, setUsername] = useState(\"\");\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const token = localStorage.getItem(\"access_token\");\n        if (token) {\n            fetchUserProfile();\n        }\n    }, []);\n\n    const fetchUserProfile = async () => {\n        try {\n            const response = await axiosInstance.get(\"user-profile/\");\n            const loggedInUsername = response.data.username;\n            setUsername(loggedInUsername);\n            localStorage.setItem(\"username\", loggedInUsername);\n            setIsLoggedIn(true);\n        } catch (error) {\n            setIsLoggedIn(false);\n        }\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem(\"access_token\");\n        localStorage.removeItem(\"refresh_token\");\n        localStorage.removeItem(\"username\");\n        setIsLoggedIn(false);\n        setUsername(\"\");\n    };\n\n    return (\n        <div className=\"min-h-screen bg-white text-red-900\">\n            <Navbar \n                isLoggedIn={isLoggedIn} \n                username={username} \n                handleLogout={handleLogout} \n                handleLoginOpen={() => setIsLoginOpen(true)} \n            />\n            <LoginModal \n                isLoginOpen={isLoginOpen} \n                setIsLoginOpen={setIsLoginOpen} \n                setIsLoggedIn={setIsLoggedIn} \n                setUsername={setUsername} \n            />\n            \n            {/* âœ… Keeping the original structure while adding better spacing */}\n            <div className=\"max-w-6xl mx-auto px-8\">\n                <SearchSection search={search} setSearch={setSearch} />\n                <FeaturesSection />\n                <RecentComparisons />\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}